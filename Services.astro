---
const { site } = Astro.props;
import IconBadge from './IconBadge.astro';
const s = site.services ?? {};
const iconMap = ['monitor', 'server', 'cloud', 'lockshield', 'wifi'];
---
<section id="services" class="nb-anchor-offset nb-section" style="background:#f8fafc">
  <div class="container">
    <h2 class="section-title fw-bold text-center">{s.title}</h2>
    <p class="text-center text-secondary mt-2 mb-4">{s.subtitle}</p>
    <div class="row g-3">
      {(s.cards ?? []).map((card, i) => (
        <div class:list={["col-md-6", i === 4 && "col-12"]}>
          <div class="p-4 nb-card nb-pop h-100">
            <div class="d-flex align-items-center justify-content-between flex-wrap gap-2 mb-2">
              <div class="nb-service-tag"><IconBadge name={iconMap[i] ?? 'checkcircle'} /><span>{card.title}</span></div>
              <a class="nb-service-more" href="#contact">More info</a>
            </div>
            {i === 4 ? (
              <div class="row g-2">
                <div class="col-md-6"><ul class="nb-list mb-0">{card.items.slice(0, Math.ceil(card.items.length/2)).map((item) => <li>{item}</li>)}</ul></div>
                <div class="col-md-6"><ul class="nb-list mb-0">{card.items.slice(Math.ceil(card.items.length/2)).map((item) => <li>{item}</li>)}</ul></div>
              </div>
            ) : (
              <ul class="nb-list">{card.items.map((item) => <li>{item}</li>)}</ul>
            )}
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
