---
import IconBadge from './IconBadge.astro';
const { site } = Astro.props;
const items = site?.whatWeDo?.items ?? [];
const iconMap = ['monitor','lockshield','tools','pin'];
---
<section id="home" class="nb-hero-wrap nb-anchor-offset">
  <div class="nb-shell nb-hero-grid">
    <div class="nb-hero-copy">
      <p class="nb-eyebrow">{site?.hero?.eyebrow}</p>
      <h1 class="nb-hero-title">{site?.hero?.headline}</h1>
      <p class="nb-hero-subtitle">{site?.hero?.subheadline}</p>
      <div class="nb-hero-actions">
        <a class="nb-btn-primary" href="#contact">
          <IconBadge name="calendar" />
          <span>{site?.hero?.primaryCta || 'Book a Consultation'}</span>
        </a>
        <a class="nb-btn-ghost" href="#contact">
          <IconBadge name="phone" />
          <span>{site?.hero?.secondaryCta || 'Call Us'}</span>
        </a>
      </div>
    </div>

    <aside class="nb-what-card" aria-label="What we do">
      <h2>{site?.whatWeDo?.title || 'What We Do'}</h2>
      <div class="nb-what-grid">
        {items.map((item, idx) => (
          <article class="nb-what-item nb-hover-pop" style={`--d:${idx * 40}ms`}>
            <div class="nb-icon-wrap nb-what-icon-wrap"><IconBadge name={iconMap[idx] || 'tools'} /></div>
            <div>
              <h3>{item.title}</h3>
              <p>{item.text}</p>
            </div>
          </article>
        ))}
      </div>
    </aside>
  </div>
</section>
